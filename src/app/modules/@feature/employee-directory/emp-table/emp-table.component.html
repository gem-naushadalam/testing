<div class="emp-table-wrapper"    
>
  <div class="row">
    <div class="search-wrapper">
      <mat-form-field class="search">
        <input matInput class="form-field" [formControl]="nameFilter"  placeholder="Search Employees" />
        <mat-icon  *ngIf = "nameFilter.value === null || nameFilter.value == ''" matSuffix>search</mat-icon>
        <button  class="clear" (click) = "onClear()" *ngIf = "nameFilter.value != null && nameFilter.value != ''" >   
          <mat-icon   matSuffix>clear</mat-icon
            ></button>
      

      </mat-form-field>
    </div>
    <div class="icons">
      <div
        (click)="tableclicked()"
        [ngClass]="{ btnClicked: tabletoggle }"
        data-toggle="tooltip"
        data-placement="top"
        title="Table View"
      >
        <svg
          width="17"
          height="16"
          viewBox="0 0 17 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M3.86089 4.70588H1.13911C0.511001 4.70588 0 4.22494 0 3.63378V1.0721C0 0.480942 0.511001 0 1.13911 0H3.86089C4.489 0 5 0.480942 5 1.0721V3.63378C5 4.22494 4.489 4.70588 3.86089 4.70588ZM1.45675 1.17647C1.34249 1.17647 1.25 1.26352 1.25 1.37106V3.33483C1.25 3.44236 1.34249 3.52941 1.45675 3.52941H3.54325C3.65751 3.52941 3.75 3.44236 3.75 3.33483V1.37106C3.75 1.26352 3.65751 1.17647 3.54325 1.17647H1.45675Z"
            fill="#727273"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M3.86089 10.3529H1.13911C0.511001 10.3529 0 9.87191 0 9.28076V6.71907C0 6.12791 0.511001 5.64697 1.13911 5.64697H3.86089C4.489 5.64697 5 6.12791 5 6.71907V9.28076C5 9.87191 4.489 10.3529 3.86089 10.3529ZM1.45675 6.82344C1.34249 6.82344 1.25 6.91049 1.25 7.01803V8.9818C1.25 9.08933 1.34249 9.17638 1.45675 9.17638H3.54325C3.65751 9.17638 3.75 9.08933 3.75 8.9818V7.01803C3.75 6.91049 3.65751 6.82344 3.54325 6.82344H1.45675Z"
            fill="#727273"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M3.86089 15.9998H1.13911C0.511001 15.9998 0 15.5189 0 14.9277V12.366C0 11.7749 0.511001 11.2939 1.13911 11.2939H3.86089C4.489 11.2939 5 11.7749 5 12.366V14.9277C5 15.5189 4.489 15.9998 3.86089 15.9998ZM1.45675 12.4704C1.34249 12.4704 1.25 12.5575 1.25 12.665V14.6288C1.25 14.7363 1.34249 14.8234 1.45675 14.8234H3.54325C3.65751 14.8234 3.75 14.7363 3.75 14.6288V12.665C3.75 12.5575 3.65751 12.4704 3.54325 12.4704H1.45675Z"
            fill="#727273"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8 2.35291H16H8Z"
            fill="#727273"
          />
          <path d="M8 2.35291H16" stroke="#727273" stroke-linecap="round" />
          <path d="M8 7.99989H16" stroke="#727273" stroke-linecap="round" />
          <path d="M8 13.6469H16" stroke="#727273" stroke-linecap="round" />
        </svg>
      </div>
      <span class="divider">|</span>
      &nbsp;
      <div
        (click)="cardclicked()"
        [ngClass]="{ btnClicked: cardtoggle }"
        data-toggle="tooltip"
        data-placement="top"
        title="Brick View"
      >
        <svg
          class="color"
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M6.14007 0C6.31768 0 6.46154 0.143858 6.46154 0.32147V6.14007C6.46154 6.31768 6.31768 6.46154 6.14007 6.46154H0.32147C0.143858 6.46154 0 6.31768 0 6.14007V0.32147C0 0.143858 0.143858 0 0.32147 0H6.14007ZM1.07692 5.3894H5.3894V1.07692H1.07692V5.3894Z"
            fill="#727273"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M6.14007 7.53857C6.31768 7.53857 6.46154 7.68243 6.46154 7.86004V13.6786C6.46154 13.8563 6.31768 14.0001 6.14007 14.0001H0.32147C0.143858 14.0001 0 13.8563 0 13.6786V7.86004C0 7.68243 0.143858 7.53857 0.32147 7.53857H6.14007ZM1.07692 12.928H5.3894V8.6155H1.07692V12.928Z"
            fill="#727273"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M13.6785 0C13.8561 0 14 0.143858 14 0.32147V6.14007C14 6.31768 13.8561 6.46154 13.6785 6.46154H7.85992C7.68231 6.46154 7.53845 6.31768 7.53845 6.14007V0.32147C7.53845 0.143858 7.68231 0 7.85992 0H13.6785ZM8.61538 5.3894H12.9278V1.07692H8.61538V5.3894Z"
            fill="#727273"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M13.6785 7.53857C13.8561 7.53857 14 7.68243 14 7.86004V13.6786C14 13.8563 13.8561 14.0001 13.6785 14.0001H7.85992C7.68231 14.0001 7.53845 13.8563 7.53845 13.6786V7.86004C7.53845 7.68243 7.68231 7.53857 7.85992 7.53857H13.6785ZM8.61538 12.928H12.9278V8.6155H8.61538V12.928Z"
            fill="#727273"
          />
        </svg>
      </div>
    </div>
  </div>

  <!-- Table -->

  <div
  [hidden]="!table"
  class="table-responsive"
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="10"
  (scrolled)="onScroll()"
  [scrollWindow]="false"

  >
    <table
      mat-table
      [dataSource]="this.dataSource"
      class="mat-elevation-z8 table"
      matSort
      >
      <!-- *ngIf="!loading" -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          EMPLOYEE NAME&nbsp;&nbsp;<i class="fa fa-sort"></i>
        </th>
        <td mat-cell *matCellDef="let element; let i = index">
          <div class="name">
            <div
              class="initials"
              [ngStyle]="{ 'background-color': circleColor }"
              [hidden]="element.loaded"
            >
              {{ element.employeeName.substring(0, 1) }}
            </div>
            <img
              src="{{ element.imagePath }}"
              (load)="element.loaded = true"
              [hidden]="!element.loaded"
              height="50px"
              width="50px"
            />
            <div>
              <span class="table-emp-name"> {{ element.employeeName }}</span>
              <br />
              <span class="position">
                {{ element.designationName }}</span
              >
            </div>
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="department">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          DEPARTMENT&nbsp;&nbsp;<i class="fa fa-sort"></i>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.departmentName }}
        </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>EMAIL</th>
        <td mat-cell *matCellDef="let element">
          {{ element.email }}
        </td>
      </ng-container>
      <ng-container matColumnDef="mobileno">
        <th mat-header-cell *matHeaderCellDef>MOBILE NO.</th>
        <td mat-cell *matCellDef="let element">
          {{ element.contactNo }}
        </td>
      </ng-container>
      <ng-container matColumnDef="extension">
        <th mat-header-cell *matHeaderCellDef>EXTENSION</th>
        <td mat-cell *matCellDef="let element">
          {{ element.extensionNo }}
        </td>
      </ng-container>
      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          LOCATION &nbsp;&nbsp;<i class="fa fa-sort"></i>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.officeLocation }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns; let i = index"
      ></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="8">No data Available</td>
      </tr>
    </table>
  </div>
  <!-- <div *ngIf="loading" style="text-align:center" class="hello">
    <img src="../../../../../assets/img/loader1.gif" style="max-width: 150px; max-height: 120px;display: block;">
  </div> -->

  <!-- Card View -->

  <div
  [hidden]="!card"
    class="content"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()"
    [scrollWindow]="false"
  >
    <div fxLayout="row wrap" fxLayoutGap="30px grid">
      <div
        fxFlex="25%"
        fxFlex.xs="100%"
        fxFlex.sm="50%"
        fxFlexAlign="stretch"
        *ngFor="let card of obs | async"
      >
        <mat-card class="mat-elevation-z4">
          <div style="text-align: center">
            <mat-card-header> </mat-card-header>
            <img mat-card-image src="{{ card.imagePath }}" />

            <mat-card-content>
              <span class="name">{{ card.employeeName }}</span>
              <br />

              <p class="position">
                <span>{{ card.designationName }}</span>
                <br />
                <span>Ext: {{ card.extensionNo }} | {{ card.contactNo }}</span>
              </p>
            </mat-card-content>
            <span class="more">VIEW DETAILS</span>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</div>
