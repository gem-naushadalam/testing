/**-----------------------------------------------------------------------------------------
* Copyright © 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var core_1 = require("@angular/core");
var kendo_angular_l10n_1 = require("@progress/kendo-angular-l10n");
var kendo_licensing_1 = require("@progress/kendo-licensing");
var package_metadata_1 = require("../package-metadata");
/**
 * Represents the [Kendo UI AppBar component for Angular]({% slug overview_appbar %}).
 * Used to display information, actions, branding titles and additional navigation on the current screen.
 */
var ɵngcc0 = require('@angular/core');
var ɵngcc1 = require('@progress/kendo-angular-l10n');

var _c0 = ["*"];
var AppBarComponent = /** @class */ (function () {
    function AppBarComponent(localizationService) {
        var _this = this;
        this.localizationService = localizationService;
        this.hostClass = true;
        /**
         * Specifies the position of the AppBar
         * ([see example]({% slug positioning_appbar %}#toc-position)).
         *
         * * The possible values are:
         * * `top` (Default)&mdash;Positions the AppBar at the top of the content.
         *    Setting the `position` property to `top` requires adding the Appbar component before the page content.
         *    The position property applies CSS `top: 0` style in [`fixed mode`]({% slug api_navigation_appbarcomponent %}#toc-positionMode) and also adds a `box-shadow` to the bottom of the AppBar.
         *
         * * `bottom`&mdash;Positions the AppBar at the bottom of the content.
         *    Setting the `position` property to `bottom` requires adding the Appbar component after the page content.
         *   The position property applies CSS `bottom: 0` style in [`fixed mode`]({% slug api_navigation_appbarcomponent %}#toc-positionMode) and also adds a `box-shadow ` to the top of the AppBar.
         *
         */
        this.position = 'top';
        /**
         * Specifies the positionMode of the AppBar
         * ([see example]({% slug positioning_appbar %}#toc-positionmode)).
         *
         * * The possible values are:
         * * `static` (Default)&mdash;Does not position the AppBar in any special way. It is positioned according to the normal flow of the page.
         * * `sticky`&mdash;Positions the AppBar based on the user's scroll position. A sticky element toggles between static and fixed CSS [`position`](https://developer.mozilla.org/en-US/docs/Web/CSS/position) property, depending on the scroll position.
         * * `fixed`&mdash;Positions the AppBar relative to the viewport. It always stays in the same place even if the page is scrolled.
         */
        this.positionMode = 'static';
        /**
         * Specifies the theme color of the AppBar.
         * The theme color will be applied as background color of the component.
         *
         *
         * * The possible values are:
         * * `light` (Default)&mdash;Applies coloring based on light theme color.
         * * `dark`&mdash;Applies coloring based on dark theme color.
         * * `inherit`&mdash; Applies inherited coloring value.
         *
         */
        this.themeColor = 'light';
        this.rtl = false;
        kendo_licensing_1.validatePackage(package_metadata_1.packageMetadata);
        this.dynamicRTLSubscription = this.localizationService.changes.subscribe(function (_a) {
            var rtl = _a.rtl;
            _this.rtl = rtl;
            _this.direction = _this.rtl ? 'rtl' : 'ltr';
        });
    }
    Object.defineProperty(AppBarComponent.prototype, "topClass", {
        get: function () {
            return this.position === 'top';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "bottomClass", {
        get: function () {
            return this.position === 'bottom';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "stickyClass", {
        get: function () {
            return this.positionMode === 'sticky';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "fixedClass", {
        get: function () {
            return this.positionMode === 'fixed';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "staticClass", {
        get: function () {
            return this.positionMode === 'static';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "lightClass", {
        get: function () {
            return this.themeColor === 'light';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "darkClass", {
        get: function () {
            return this.themeColor === 'dark';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AppBarComponent.prototype, "inheritClass", {
        get: function () {
            return this.themeColor === 'inherit';
        },
        enumerable: true,
        configurable: true
    });
    AppBarComponent.prototype.ngOnDestroy = function () {
        if (this.dynamicRTLSubscription) {
            this.dynamicRTLSubscription.unsubscribe();
        }
    };
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar'),
        tslib_1.__metadata("design:type", Boolean)
    ], AppBarComponent.prototype, "hostClass", void 0);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-top'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "topClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-bottom'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "bottomClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-sticky'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "stickyClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-fixed'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "fixedClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-static'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "staticClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-light'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "lightClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-dark'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "darkClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-appbar-inherit'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], AppBarComponent.prototype, "inheritClass", null);
    tslib_1.__decorate([
        core_1.HostBinding('attr.dir'),
        tslib_1.__metadata("design:type", String)
    ], AppBarComponent.prototype, "direction", void 0);
    tslib_1.__decorate([
        core_1.Input(),
        tslib_1.__metadata("design:type", String)
    ], AppBarComponent.prototype, "position", void 0);
    tslib_1.__decorate([
        core_1.Input(),
        tslib_1.__metadata("design:type", String)
    ], AppBarComponent.prototype, "positionMode", void 0);
    tslib_1.__decorate([
        core_1.Input(),
        tslib_1.__metadata("design:type", String)
    ], AppBarComponent.prototype, "themeColor", void 0);
    AppBarComponent = tslib_1.__decorate([ tslib_1.__metadata("design:paramtypes", [kendo_angular_l10n_1.LocalizationService])
    ], AppBarComponent);
AppBarComponent.ɵfac = function AppBarComponent_Factory(t) { return new (t || AppBarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LocalizationService)); };
AppBarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: AppBarComponent, selectors: [["kendo-appbar"]], hostVars: 19, hostBindings: function AppBarComponent_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵattribute("dir", ctx.direction);
        ɵngcc0.ɵɵclassProp("k-appbar", ctx.hostClass)("k-appbar-top", ctx.topClass)("k-appbar-bottom", ctx.bottomClass)("k-appbar-sticky", ctx.stickyClass)("k-appbar-fixed", ctx.fixedClass)("k-appbar-static", ctx.staticClass)("k-appbar-light", ctx.lightClass)("k-appbar-dark", ctx.darkClass)("k-appbar-inherit", ctx.inheritClass);
    } }, inputs: { position: "position", positionMode: "positionMode", themeColor: "themeColor" }, exportAs: ["kendoAppBar"], features: [ɵngcc0.ɵɵProvidersFeature([
            kendo_angular_l10n_1.LocalizationService,
            {
                provide: kendo_angular_l10n_1.L10N_PREFIX,
                useValue: 'kendo.appbar.component'
            }
        ])], ngContentSelectors: _c0, decls: 1, vars: 0, template: function AppBarComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵprojection(0);
    } }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AppBarComponent, [{
        type: core_1.Component,
        args: [{
                exportAs: 'kendoAppBar',
                selector: 'kendo-appbar',
                template: "\n        <ng-content></ng-content>\n    ",
                providers: [
                    kendo_angular_l10n_1.LocalizationService,
                    {
                        provide: kendo_angular_l10n_1.L10N_PREFIX,
                        useValue: 'kendo.appbar.component'
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc1.LocalizationService }]; }, { hostClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar']
        }], position: [{
            type: core_1.Input
        }], positionMode: [{
            type: core_1.Input
        }], themeColor: [{
            type: core_1.Input
        }], topClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-top']
        }], bottomClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-bottom']
        }], stickyClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-sticky']
        }], fixedClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-fixed']
        }], staticClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-static']
        }], lightClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-light']
        }], darkClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-dark']
        }], inheritClass: [{
            type: core_1.HostBinding,
            args: ['class.k-appbar-inherit']
        }], direction: [{
            type: core_1.HostBinding,
            args: ['attr.dir']
        }] }); })();
    return AppBarComponent;
}());
exports.AppBarComponent = AppBarComponent;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiYXBwYmFyLmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBYU87QUFDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIENvcHlyaWdodCDCqSAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuKiBMaWNlbnNlZCB1bmRlciBjb21tZXJjaWFsIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLm1kIGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIG1vcmUgaW5mb3JtYXRpb25cbiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIik7XG52YXIga2VuZG9fYW5ndWxhcl9sMTBuXzEgPSByZXF1aXJlKFwiQHByb2dyZXNzL2tlbmRvLWFuZ3VsYXItbDEwblwiKTtcbnZhciBrZW5kb19saWNlbnNpbmdfMSA9IHJlcXVpcmUoXCJAcHJvZ3Jlc3Mva2VuZG8tbGljZW5zaW5nXCIpO1xudmFyIHBhY2thZ2VfbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuLi9wYWNrYWdlLW1ldGFkYXRhXCIpO1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBbS2VuZG8gVUkgQXBwQmFyIGNvbXBvbmVudCBmb3IgQW5ndWxhcl0oeyUgc2x1ZyBvdmVydmlld19hcHBiYXIgJX0pLlxuICogVXNlZCB0byBkaXNwbGF5IGluZm9ybWF0aW9uLCBhY3Rpb25zLCBicmFuZGluZyB0aXRsZXMgYW5kIGFkZGl0aW9uYWwgbmF2aWdhdGlvbiBvbiB0aGUgY3VycmVudCBzY3JlZW4uXG4gKi9cbnZhciBBcHBCYXJDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwQmFyQ29tcG9uZW50KGxvY2FsaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2NhbGl6YXRpb25TZXJ2aWNlID0gbG9jYWxpemF0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5ob3N0Q2xhc3MgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgQXBwQmFyXG4gICAgICAgICAqIChbc2VlIGV4YW1wbGVdKHslIHNsdWcgcG9zaXRpb25pbmdfYXBwYmFyICV9I3RvYy1wb3NpdGlvbikpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAqIFRoZSBwb3NzaWJsZSB2YWx1ZXMgYXJlOlxuICAgICAgICAgKiAqIGB0b3BgIChEZWZhdWx0KSZtZGFzaDtQb3NpdGlvbnMgdGhlIEFwcEJhciBhdCB0aGUgdG9wIG9mIHRoZSBjb250ZW50LlxuICAgICAgICAgKiAgICBTZXR0aW5nIHRoZSBgcG9zaXRpb25gIHByb3BlcnR5IHRvIGB0b3BgIHJlcXVpcmVzIGFkZGluZyB0aGUgQXBwYmFyIGNvbXBvbmVudCBiZWZvcmUgdGhlIHBhZ2UgY29udGVudC5cbiAgICAgICAgICogICAgVGhlIHBvc2l0aW9uIHByb3BlcnR5IGFwcGxpZXMgQ1NTIGB0b3A6IDBgIHN0eWxlIGluIFtgZml4ZWQgbW9kZWBdKHslIHNsdWcgYXBpX25hdmlnYXRpb25fYXBwYmFyY29tcG9uZW50ICV9I3RvYy1wb3NpdGlvbk1vZGUpIGFuZCBhbHNvIGFkZHMgYSBgYm94LXNoYWRvd2AgdG8gdGhlIGJvdHRvbSBvZiB0aGUgQXBwQmFyLlxuICAgICAgICAgKlxuICAgICAgICAgKiAqIGBib3R0b21gJm1kYXNoO1Bvc2l0aW9ucyB0aGUgQXBwQmFyIGF0IHRoZSBib3R0b20gb2YgdGhlIGNvbnRlbnQuXG4gICAgICAgICAqICAgIFNldHRpbmcgdGhlIGBwb3NpdGlvbmAgcHJvcGVydHkgdG8gYGJvdHRvbWAgcmVxdWlyZXMgYWRkaW5nIHRoZSBBcHBiYXIgY29tcG9uZW50IGFmdGVyIHRoZSBwYWdlIGNvbnRlbnQuXG4gICAgICAgICAqICAgVGhlIHBvc2l0aW9uIHByb3BlcnR5IGFwcGxpZXMgQ1NTIGBib3R0b206IDBgIHN0eWxlIGluIFtgZml4ZWQgbW9kZWBdKHslIHNsdWcgYXBpX25hdmlnYXRpb25fYXBwYmFyY29tcG9uZW50ICV9I3RvYy1wb3NpdGlvbk1vZGUpIGFuZCBhbHNvIGFkZHMgYSBgYm94LXNoYWRvdyBgIHRvIHRoZSB0b3Agb2YgdGhlIEFwcEJhci5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAndG9wJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGUgcG9zaXRpb25Nb2RlIG9mIHRoZSBBcHBCYXJcbiAgICAgICAgICogKFtzZWUgZXhhbXBsZV0oeyUgc2x1ZyBwb3NpdGlvbmluZ19hcHBiYXIgJX0jdG9jLXBvc2l0aW9ubW9kZSkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiAqIFRoZSBwb3NzaWJsZSB2YWx1ZXMgYXJlOlxuICAgICAgICAgKiAqIGBzdGF0aWNgIChEZWZhdWx0KSZtZGFzaDtEb2VzIG5vdCBwb3NpdGlvbiB0aGUgQXBwQmFyIGluIGFueSBzcGVjaWFsIHdheS4gSXQgaXMgcG9zaXRpb25lZCBhY2NvcmRpbmcgdG8gdGhlIG5vcm1hbCBmbG93IG9mIHRoZSBwYWdlLlxuICAgICAgICAgKiAqIGBzdGlja3lgJm1kYXNoO1Bvc2l0aW9ucyB0aGUgQXBwQmFyIGJhc2VkIG9uIHRoZSB1c2VyJ3Mgc2Nyb2xsIHBvc2l0aW9uLiBBIHN0aWNreSBlbGVtZW50IHRvZ2dsZXMgYmV0d2VlbiBzdGF0aWMgYW5kIGZpeGVkIENTUyBbYHBvc2l0aW9uYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3Bvc2l0aW9uKSBwcm9wZXJ0eSwgZGVwZW5kaW5nIG9uIHRoZSBzY3JvbGwgcG9zaXRpb24uXG4gICAgICAgICAqICogYGZpeGVkYCZtZGFzaDtQb3NpdGlvbnMgdGhlIEFwcEJhciByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQuIEl0IGFsd2F5cyBzdGF5cyBpbiB0aGUgc2FtZSBwbGFjZSBldmVuIGlmIHRoZSBwYWdlIGlzIHNjcm9sbGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3NpdGlvbk1vZGUgPSAnc3RhdGljJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGUgdGhlbWUgY29sb3Igb2YgdGhlIEFwcEJhci5cbiAgICAgICAgICogVGhlIHRoZW1lIGNvbG9yIHdpbGwgYmUgYXBwbGllZCBhcyBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqXG4gICAgICAgICAqICogVGhlIHBvc3NpYmxlIHZhbHVlcyBhcmU6XG4gICAgICAgICAqICogYGxpZ2h0YCAoRGVmYXVsdCkmbWRhc2g7QXBwbGllcyBjb2xvcmluZyBiYXNlZCBvbiBsaWdodCB0aGVtZSBjb2xvci5cbiAgICAgICAgICogKiBgZGFya2AmbWRhc2g7QXBwbGllcyBjb2xvcmluZyBiYXNlZCBvbiBkYXJrIHRoZW1lIGNvbG9yLlxuICAgICAgICAgKiAqIGBpbmhlcml0YCZtZGFzaDsgQXBwbGllcyBpbmhlcml0ZWQgY29sb3JpbmcgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRoZW1lQ29sb3IgPSAnbGlnaHQnO1xuICAgICAgICB0aGlzLnJ0bCA9IGZhbHNlO1xuICAgICAgICBrZW5kb19saWNlbnNpbmdfMS52YWxpZGF0ZVBhY2thZ2UocGFja2FnZV9tZXRhZGF0YV8xLnBhY2thZ2VNZXRhZGF0YSk7XG4gICAgICAgIHRoaXMuZHluYW1pY1JUTFN1YnNjcmlwdGlvbiA9IHRoaXMubG9jYWxpemF0aW9uU2VydmljZS5jaGFuZ2VzLnN1YnNjcmliZShmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBydGwgPSBfYS5ydGw7XG4gICAgICAgICAgICBfdGhpcy5ydGwgPSBydGw7XG4gICAgICAgICAgICBfdGhpcy5kaXJlY3Rpb24gPSBfdGhpcy5ydGwgPyAncnRsJyA6ICdsdHInO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwidG9wQ2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID09PSAndG9wJztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiYm90dG9tQ2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID09PSAnYm90dG9tJztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RpY2t5Q2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uTW9kZSA9PT0gJ3N0aWNreSc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImZpeGVkQ2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uTW9kZSA9PT0gJ2ZpeGVkJztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljQ2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uTW9kZSA9PT0gJ3N0YXRpYyc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImxpZ2h0Q2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW1lQ29sb3IgPT09ICdsaWdodCc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhcmtDbGFzc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbWVDb2xvciA9PT0gJ2RhcmsnO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJpbmhlcml0Q2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW1lQ29sb3IgPT09ICdpbmhlcml0JztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXBwQmFyQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZHluYW1pY1JUTFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5keW5hbWljUlRMU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5Ib3N0QmluZGluZygnY2xhc3Muay1hcHBiYXInKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImhvc3RDbGFzc1wiLCB2b2lkIDApO1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5Ib3N0QmluZGluZygnY2xhc3Muay1hcHBiYXItdG9wJyksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcInRvcENsYXNzXCIsIG51bGwpO1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5Ib3N0QmluZGluZygnY2xhc3Muay1hcHBiYXItYm90dG9tJyksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImJvdHRvbUNsYXNzXCIsIG51bGwpO1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5Ib3N0QmluZGluZygnY2xhc3Muay1hcHBiYXItc3RpY2t5JyksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcInN0aWNreUNsYXNzXCIsIG51bGwpO1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5Ib3N0QmluZGluZygnY2xhc3Muay1hcHBiYXItZml4ZWQnKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbiksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKVxuICAgIF0sIEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZml4ZWRDbGFzc1wiLCBudWxsKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBjb3JlXzEuSG9zdEJpbmRpbmcoJ2NsYXNzLmstYXBwYmFyLXN0YXRpYycpLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pXG4gICAgXSwgQXBwQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGF0aWNDbGFzc1wiLCBudWxsKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBjb3JlXzEuSG9zdEJpbmRpbmcoJ2NsYXNzLmstYXBwYmFyLWxpZ2h0JyksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImxpZ2h0Q2xhc3NcIiwgbnVsbCk7XG4gICAgdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgY29yZV8xLkhvc3RCaW5kaW5nKCdjbGFzcy5rLWFwcGJhci1kYXJrJyksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcImRhcmtDbGFzc1wiLCBudWxsKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBjb3JlXzEuSG9zdEJpbmRpbmcoJ2NsYXNzLmstYXBwYmFyLWluaGVyaXQnKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbiksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKVxuICAgIF0sIEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5oZXJpdENsYXNzXCIsIG51bGwpO1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5Ib3N0QmluZGluZygnYXR0ci5kaXInKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEFwcEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZGlyZWN0aW9uXCIsIHZvaWQgMCk7XG4gICAgdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgY29yZV8xLklucHV0KCksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHZvaWQgMCk7XG4gICAgdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgY29yZV8xLklucHV0KCksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBBcHBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcInBvc2l0aW9uTW9kZVwiLCB2b2lkIDApO1xuICAgIHRzbGliXzEuX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5JbnB1dCgpLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQXBwQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aGVtZUNvbG9yXCIsIHZvaWQgMCk7XG4gICAgQXBwQmFyQ29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XG4gICAgICAgICAgICBleHBvcnRBczogJ2tlbmRvQXBwQmFyJyxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAna2VuZG8tYXBwYmFyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxcbiAgICBcIixcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIGtlbmRvX2FuZ3VsYXJfbDEwbl8xLkxvY2FsaXphdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBrZW5kb19hbmd1bGFyX2wxMG5fMS5MMTBOX1BSRUZJWCxcbiAgICAgICAgICAgICAgICAgICAgdXNlVmFsdWU6ICdrZW5kby5hcHBiYXIuY29tcG9uZW50J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSksXG4gICAgICAgIHRzbGliXzEuX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtrZW5kb19hbmd1bGFyX2wxMG5fMS5Mb2NhbGl6YXRpb25TZXJ2aWNlXSlcbiAgICBdLCBBcHBCYXJDb21wb25lbnQpO1xuICAgIHJldHVybiBBcHBCYXJDb21wb25lbnQ7XG59KCkpO1xuZXhwb3J0cy5BcHBCYXJDb21wb25lbnQgPSBBcHBCYXJDb21wb25lbnQ7XG4iXX0=