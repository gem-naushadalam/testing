!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/router")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/router"],e):e((r.ng=r.ng||{},r.ng["angular-crumbs"]=r.ng["angular-crumbs"]||{}),r.ng.core,r.ng.common,r.ng.router)}(this,function(r,t,e,i){"use strict";var n=function(){},o=function(){function r(r){var e=this;this.router=r,this.breadcrumbChanged=new t.EventEmitter(!1),this.breadcrumbs=new Array,this.router.events.subscribe(function(r){e.onRouteEvent(r)})}return r.prototype.changeBreadcrumb=function(r,e){var t=this.createRootUrl(r),n=this.breadcrumbs.find(function(r){return r.url===t});n&&(n.displayName=e,this.breadcrumbChanged.emit(this.breadcrumbs))},r.prototype.onRouteEvent=function(r){if(r instanceof i.NavigationEnd){for(var e=this.router.routerState.root.snapshot,t="",n=0,o=[];null!=e.firstChild;)if(null!==(e=e.firstChild).routeConfig&&e.routeConfig.path&&(t+="/"+this.createUrl(e),e.data.breadcrumb)){var a=this.createBreadcrumb(e,t);if(n<this.breadcrumbs.length){var u=this.breadcrumbs[n++];u&&u.route==e.routeConfig&&(a.displayName=u.displayName)}o.push(a)}this.breadcrumbs=o,this.breadcrumbChanged.emit(this.breadcrumbs)}},r.prototype.createBreadcrumb=function(r,e){return{displayName:r.data.breadcrumb,terminal:this.isTerminal(r),url:e,route:r.routeConfig}},r.prototype.isTerminal=function(r){return null===r.firstChild||null===r.firstChild.routeConfig||!r.firstChild.routeConfig.path},r.prototype.createUrl=function(r){return r.url.map(function(r){return r.toString()}).join("/")},r.prototype.createRootUrl=function(r){for(var e="",t=r.root;null!==t.firstChild&&(null===(t=t.firstChild).routeConfig||!t.routeConfig.path||(e+="/"+this.createUrl(t),t!==r)););return e},r.decorators=[{type:t.Injectable}],r.ctorParameters=function(){return[{type:i.Router}]},r}(),a=function(){function r(r){var e=this;(this.breadcrumbService=r).breadcrumbChanged.subscribe(function(r){e.onBreadcrumbChange(r)})}return r.prototype.onBreadcrumbChange=function(r){this.breadcrumbs=r},r.decorators=[{type:t.Component,args:[{selector:"breadcrumb",template:'<div #template>\n    <ng-content></ng-content>\n</div>\n<div class="container" *ngIf="template.children.length == 0">\n    <div class="nav-wrapper">\n        <div class="breadcrumb" *ngFor="let route of breadcrumbs" [ngClass]="{\'last\': route.terminal}">\n            \x3c!-- disable link of last item --\x3e\n            <a href="" *ngIf="!route.terminal" [routerLink]="[route.url]">{{ route.displayName }}</a>\n            <span *ngIf="route.terminal">{{ route.displayName }}</span>\n        </div>\n    </div>\n</div>'}]}],r.ctorParameters=function(){return[{type:o}]},r}();function u(r){return new o(r)}var c=function(){function r(){}return r.decorators=[{type:t.NgModule,args:[{imports:[e.CommonModule,i.RouterModule],providers:[{provide:o,useFactory:u,deps:[i.Router]}],declarations:[a],exports:[a]}]}],r.ctorParameters=function(){return[]},r}();r.Breadcrumb=n,r.BreadcrumbModule=c,r.BreadcrumbService=o,r.BreadcrumbComponent=a,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1jcnVtYnMudW1kLm1pbi5qcyIsInNvdXJjZXMiOlsiYW5ndWxhci1jcnVtYnMudW1kLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihyLGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyxyZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSxyZXF1aXJlKFwiQGFuZ3VsYXIvY29tbW9uXCIpLHJlcXVpcmUoXCJAYW5ndWxhci9yb3V0ZXJcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiLFwiQGFuZ3VsYXIvY29yZVwiLFwiQGFuZ3VsYXIvY29tbW9uXCIsXCJAYW5ndWxhci9yb3V0ZXJcIl0sZSk6ZSgoci5uZz1yLm5nfHx7fSxyLm5nW1wiYW5ndWxhci1jcnVtYnNcIl09ci5uZ1tcImFuZ3VsYXItY3J1bWJzXCJdfHx7fSksci5uZy5jb3JlLHIubmcuY29tbW9uLHIubmcucm91dGVyKX0odGhpcyxmdW5jdGlvbihyLHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1mdW5jdGlvbigpe30sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHIocil7dmFyIGU9dGhpczt0aGlzLnJvdXRlcj1yLHRoaXMuYnJlYWRjcnVtYkNoYW5nZWQ9bmV3IHQuRXZlbnRFbWl0dGVyKCExKSx0aGlzLmJyZWFkY3J1bWJzPW5ldyBBcnJheSx0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKGZ1bmN0aW9uKHIpe2Uub25Sb3V0ZUV2ZW50KHIpfSl9cmV0dXJuIHIucHJvdG90eXBlLmNoYW5nZUJyZWFkY3J1bWI9ZnVuY3Rpb24ocixlKXt2YXIgdD10aGlzLmNyZWF0ZVJvb3RVcmwociksbj10aGlzLmJyZWFkY3J1bWJzLmZpbmQoZnVuY3Rpb24ocil7cmV0dXJuIHIudXJsPT09dH0pO24mJihuLmRpc3BsYXlOYW1lPWUsdGhpcy5icmVhZGNydW1iQ2hhbmdlZC5lbWl0KHRoaXMuYnJlYWRjcnVtYnMpKX0sci5wcm90b3R5cGUub25Sb3V0ZUV2ZW50PWZ1bmN0aW9uKHIpe2lmKHIgaW5zdGFuY2VvZiBpLk5hdmlnYXRpb25FbmQpe2Zvcih2YXIgZT10aGlzLnJvdXRlci5yb3V0ZXJTdGF0ZS5yb290LnNuYXBzaG90LHQ9XCJcIixuPTAsbz1bXTtudWxsIT1lLmZpcnN0Q2hpbGQ7KWlmKG51bGwhPT0oZT1lLmZpcnN0Q2hpbGQpLnJvdXRlQ29uZmlnJiZlLnJvdXRlQ29uZmlnLnBhdGgmJih0Kz1cIi9cIit0aGlzLmNyZWF0ZVVybChlKSxlLmRhdGEuYnJlYWRjcnVtYikpe3ZhciBhPXRoaXMuY3JlYXRlQnJlYWRjcnVtYihlLHQpO2lmKG48dGhpcy5icmVhZGNydW1icy5sZW5ndGgpe3ZhciB1PXRoaXMuYnJlYWRjcnVtYnNbbisrXTt1JiZ1LnJvdXRlPT1lLnJvdXRlQ29uZmlnJiYoYS5kaXNwbGF5TmFtZT11LmRpc3BsYXlOYW1lKX1vLnB1c2goYSl9dGhpcy5icmVhZGNydW1icz1vLHRoaXMuYnJlYWRjcnVtYkNoYW5nZWQuZW1pdCh0aGlzLmJyZWFkY3J1bWJzKX19LHIucHJvdG90eXBlLmNyZWF0ZUJyZWFkY3J1bWI9ZnVuY3Rpb24ocixlKXtyZXR1cm57ZGlzcGxheU5hbWU6ci5kYXRhLmJyZWFkY3J1bWIsdGVybWluYWw6dGhpcy5pc1Rlcm1pbmFsKHIpLHVybDplLHJvdXRlOnIucm91dGVDb25maWd9fSxyLnByb3RvdHlwZS5pc1Rlcm1pbmFsPWZ1bmN0aW9uKHIpe3JldHVybiBudWxsPT09ci5maXJzdENoaWxkfHxudWxsPT09ci5maXJzdENoaWxkLnJvdXRlQ29uZmlnfHwhci5maXJzdENoaWxkLnJvdXRlQ29uZmlnLnBhdGh9LHIucHJvdG90eXBlLmNyZWF0ZVVybD1mdW5jdGlvbihyKXtyZXR1cm4gci51cmwubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnRvU3RyaW5nKCl9KS5qb2luKFwiL1wiKX0sci5wcm90b3R5cGUuY3JlYXRlUm9vdFVybD1mdW5jdGlvbihyKXtmb3IodmFyIGU9XCJcIix0PXIucm9vdDtudWxsIT09dC5maXJzdENoaWxkJiYobnVsbD09PSh0PXQuZmlyc3RDaGlsZCkucm91dGVDb25maWd8fCF0LnJvdXRlQ29uZmlnLnBhdGh8fChlKz1cIi9cIit0aGlzLmNyZWF0ZVVybCh0KSx0IT09cikpOyk7cmV0dXJuIGV9LHIuZGVjb3JhdG9ycz1be3R5cGU6dC5JbmplY3RhYmxlfV0sci5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTppLlJvdXRlcn1dfSxyfSgpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKHIpe3ZhciBlPXRoaXM7KHRoaXMuYnJlYWRjcnVtYlNlcnZpY2U9cikuYnJlYWRjcnVtYkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uKHIpe2Uub25CcmVhZGNydW1iQ2hhbmdlKHIpfSl9cmV0dXJuIHIucHJvdG90eXBlLm9uQnJlYWRjcnVtYkNoYW5nZT1mdW5jdGlvbihyKXt0aGlzLmJyZWFkY3J1bWJzPXJ9LHIuZGVjb3JhdG9ycz1be3R5cGU6dC5Db21wb25lbnQsYXJnczpbe3NlbGVjdG9yOlwiYnJlYWRjcnVtYlwiLHRlbXBsYXRlOic8ZGl2ICN0ZW1wbGF0ZT5cXG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIiAqbmdJZj1cInRlbXBsYXRlLmNoaWxkcmVuLmxlbmd0aCA9PSAwXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJuYXYtd3JhcHBlclwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImJyZWFkY3J1bWJcIiAqbmdGb3I9XCJsZXQgcm91dGUgb2YgYnJlYWRjcnVtYnNcIiBbbmdDbGFzc109XCJ7XFwnbGFzdFxcJzogcm91dGUudGVybWluYWx9XCI+XFxuICAgICAgICAgICAgXFx4M2MhLS0gZGlzYWJsZSBsaW5rIG9mIGxhc3QgaXRlbSAtLVxceDNlXFxuICAgICAgICAgICAgPGEgaHJlZj1cIlwiICpuZ0lmPVwiIXJvdXRlLnRlcm1pbmFsXCIgW3JvdXRlckxpbmtdPVwiW3JvdXRlLnVybF1cIj57eyByb3V0ZS5kaXNwbGF5TmFtZSB9fTwvYT5cXG4gICAgICAgICAgICA8c3BhbiAqbmdJZj1cInJvdXRlLnRlcm1pbmFsXCI+e3sgcm91dGUuZGlzcGxheU5hbWUgfX08L3NwYW4+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+J31dfV0sci5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpvfV19LHJ9KCk7ZnVuY3Rpb24gdShyKXtyZXR1cm4gbmV3IG8ocil9dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7fXJldHVybiByLmRlY29yYXRvcnM9W3t0eXBlOnQuTmdNb2R1bGUsYXJnczpbe2ltcG9ydHM6W2UuQ29tbW9uTW9kdWxlLGkuUm91dGVyTW9kdWxlXSxwcm92aWRlcnM6W3twcm92aWRlOm8sdXNlRmFjdG9yeTp1LGRlcHM6W2kuUm91dGVyXX1dLGRlY2xhcmF0aW9uczpbYV0sZXhwb3J0czpbYV19XX1dLHIuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0scn0oKTtyLkJyZWFkY3J1bWI9bixyLkJyZWFkY3J1bWJNb2R1bGU9YyxyLkJyZWFkY3J1bWJTZXJ2aWNlPW8sci5CcmVhZGNydW1iQ29tcG9uZW50PWEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KTsiXX0=